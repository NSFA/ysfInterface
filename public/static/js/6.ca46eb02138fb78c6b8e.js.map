{"version":3,"sources":["webpack:///static/js/6.ca46eb02138fb78c6b8e.js","webpack:///./src/components/page/Login.vue","webpack:///./~/.2.4.1@core-js/library/modules/_core.js?9454****","webpack:///./~/.2.4.1@core-js/library/fn/json/stringify.js?3df5","webpack:///./~/.6.23.0@babel-runtime/core-js/json/stringify.js?5b06","webpack:///./src/javascript/util.js?b9dc","webpack:///./src/components/page/Login.vue?b9ff","webpack:///Login.vue"],"names":["webpackJsonp","114","module","exports","__webpack_require__","Component","126","core","version","__e","314","$JSON","JSON","stringify","it","apply","arguments","355","default","__esModule","356","__webpack_exports__","_isType","t","Object","prototype","toString","call","slice","toLowerCase","_saveLocalStorage","key","value","localStorage","setItem","Info","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","_getLocalStorage","item","getItem","_getCookie","c_name","c_start","c_end","document","cookie","length","indexOf","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","n","367","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","loginForm","rules","label-width","label","prop","type","auto-complete","callback","$$v","account","expression","_v","password","savePass","staticStyle","margin-left","size","on","click","$event","submitForm","resetForm","staticRenderFns","383","defineProperty","__WEBPACK_IMPORTED_MODULE_0__javascript_util__","__WEBPACK_IMPORTED_MODULE_1__javascript_getData__","name","data","required","message","trigger","methods","formName","_this","$refs","validate","valid","i","then","res","code","saveLoginInfo","$router","push","$message","showClose","msg","resetFields","_this2","forEach","mounted","_this3","parse","body","addEventListener","e","window","event","keyCode"],"mappings":"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","file":"static/js/6.ca46eb02138fb78c6b8e.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(38)(\n  /* script */\n  __webpack_require__(383),\n  /* template */\n  __webpack_require__(367),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports) {\n\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ }),\n\n/***/ 314:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core  = __webpack_require__(126)\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n/***/ }),\n\n/***/ 355:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(314), __esModule: true };\n\n/***/ }),\n\n/***/ 356:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(355);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* unused harmony export _isType */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = _saveLocalStorage;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = _getLocalStorage;\n/* unused harmony export _clearStorage */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = _getCookie;\n\nfunction _isType(t) {\n  return Object.prototype.toString.call(t).slice(8, -1).toLowerCase();\n}\n\nfunction _saveLocalStorage(key, value) {\n  if (_isType(value) === \"string\") {\n    localStorage.setItem(key, value);\n  } else {\n    var Info = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(value);\n    localStorage.setItem(key, Info);\n  }\n}\n\nfunction _getLocalStorage(item) {\n  return localStorage.getItem(item);\n}\n\nfunction _clearStorage() {\n  localStorage.clear();\n}\n\nfunction _getCookie(c_name) {\n  var c_start = void 0,\n      c_end = void 0;\n  if (document.cookie.length > 0) {\n    c_start = document.cookie.indexOf(c_name + \"=\");\n    if (c_start !== -1) {\n      c_start = c_start + c_name.length + 1;\n      c_end = document.cookie.indexOf(\";\", c_start);\n      if (c_end === -1) c_end = document.cookie.length;\n      return document.cookie.slice(c_start, c_end);\n    }\n  }\n  return \"\";\n}\n\n/***/ }),\n\n/***/ 367:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"login_form_wrapper\"\n  }, [_c('el-form', {\n    ref: \"loginForm\",\n    staticClass: \"login_form\",\n    attrs: {\n      \"model\": _vm.loginForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"账号\",\n      \"prop\": \"account\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.loginForm.account),\n      callback: function($$v) {\n        _vm.loginForm.account = $$v\n      },\n      expression: \"loginForm.account\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.loginForm.password),\n      callback: function($$v) {\n        _vm.loginForm.password = $$v\n      },\n      expression: \"loginForm.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"记住密码\",\n      \"prop\": \"savePass\"\n    }\n  }, [_c('el-switch', {\n    model: {\n      value: (_vm.loginForm.savePass),\n      callback: function($$v) {\n        _vm.loginForm.savePass = $$v\n      },\n      expression: \"loginForm.savePass\"\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    staticStyle: {\n      \"margin-left\": \"25px\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('loginForm')\n      }\n    }\n  }, [_vm._v(\"登录\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('loginForm')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 383:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__javascript_util__ = __webpack_require__(356);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__javascript_getData__ = __webpack_require__(39);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: \"login\",\n  data: function data() {\n    return {\n      loginForm: {\n        account: '',\n        password: '',\n        savePass: false\n      },\n      rules: {\n        account: [{ required: true, message: '请输入账号', trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\n      }\n    };\n  },\n\n  methods: {\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__javascript_getData__[\"o\" /* _login */])(_this.loginForm).then(function (res) {\n            var data = res.data;\n            if (data.code === 200) {\n              _this.loginForm.savePass && _this.saveLoginInfo();\n              _this.$router.push('/');\n            } else {\n              _this.$message({\n                showClose: true,\n                message: data.msg,\n                type: 'error'\n              });\n            }\n          });\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    saveLoginInfo: function saveLoginInfo() {\n      var _this2 = this;\n\n      [\"account\", \"password\", \"savePass\"].forEach(function (item) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__javascript_util__[\"b\" /* _saveLocalStorage */])(item, _this2.loginForm[item]);\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__javascript_util__[\"a\" /* _getCookie */])('login')) {\n      this.$router.push('/');\n    }\n    if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__javascript_util__[\"c\" /* _getLocalStorage */])(\"account\") && __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__javascript_util__[\"c\" /* _getLocalStorage */])(\"password\")) {\n      this.loginForm.account = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__javascript_util__[\"c\" /* _getLocalStorage */])(\"account\");\n      this.loginForm.password = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__javascript_util__[\"c\" /* _getLocalStorage */])(\"password\");\n      this.loginForm.savePass = JSON.parse(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__javascript_util__[\"c\" /* _getLocalStorage */])(\"savePass\"));\n    }\n    document.body.addEventListener('keydown', function (e) {\n      var event = e || window.event;\n      if (event.keyCode === 13) {\n        _this3.submitForm('loginForm');\n      }\n    });\n  }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.ca46eb02138fb78c6b8e.js","var Component = require(\"!../../../node_modules/.11.2.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.11.2.0@vue-loader/lib/selector?type=script&index=0!./Login.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.11.2.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00dd8d49\\\"}!../../../node_modules/.11.2.0@vue-loader/lib/selector?type=template&index=0!./Login.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/Login.vue\n// module id = 114\n// module chunks = 6","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.4.1@core-js/library/modules/_core.js\n// module id = 126\n// module chunks = 0 1 2 3 4 6","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.4.1@core-js/library/fn/json/stringify.js\n// module id = 314\n// module chunks = 3 6","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.6.23.0@babel-runtime/core-js/json/stringify.js\n// module id = 355\n// module chunks = 3 6","export function _isType(t) {\n  return Object.prototype.toString.call(t).slice(8, -1).toLowerCase();\n}\n\nexport function _saveLocalStorage(key, value) {\n  if (_isType(value) === \"string\") {\n    localStorage.setItem(key, value);\n  } else {\n    let Info = JSON.stringify(value);\n    localStorage.setItem(key, Info);\n  }\n}\n\nexport function _getLocalStorage(item) {\n  return localStorage.getItem(item);\n}\n\nexport function _clearStorage() {\n  localStorage.clear();\n}\n\nexport function _getCookie(c_name) {\n  let c_start, c_end;\n  if (document.cookie.length > 0) {\n    c_start = document.cookie.indexOf(c_name + \"=\");\n    if (c_start !== -1) {\n      c_start = c_start + c_name.length + 1;\n      c_end = document.cookie.indexOf(\";\", c_start);\n      if (c_end === -1) c_end = document.cookie.length;\n      return document.cookie.slice(c_start, c_end)\n    }\n  }\n  return \"\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascript/util.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"login_form_wrapper\"\n  }, [_c('el-form', {\n    ref: \"loginForm\",\n    staticClass: \"login_form\",\n    attrs: {\n      \"model\": _vm.loginForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"账号\",\n      \"prop\": \"account\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.loginForm.account),\n      callback: function($$v) {\n        _vm.loginForm.account = $$v\n      },\n      expression: \"loginForm.account\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.loginForm.password),\n      callback: function($$v) {\n        _vm.loginForm.password = $$v\n      },\n      expression: \"loginForm.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"记住密码\",\n      \"prop\": \"savePass\"\n    }\n  }, [_c('el-switch', {\n    model: {\n      value: (_vm.loginForm.savePass),\n      callback: function($$v) {\n        _vm.loginForm.savePass = $$v\n      },\n      expression: \"loginForm.savePass\"\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    staticStyle: {\n      \"margin-left\": \"25px\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('loginForm')\n      }\n    }\n  }, [_vm._v(\"登录\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('loginForm')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.2.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-00dd8d49\"}!./~/.11.2.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/Login.vue\n// module id = 367\n// module chunks = 6","<template>\n  <div class=\"login_form_wrapper\">\n    <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\" label-width=\"100px\" class=\"login_form\">\n      <el-form-item label=\"账号\" prop=\"account\">\n        <el-input type=\"text\" v-model=\"loginForm.account\" auto-complete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input type=\"password\" v-model=\"loginForm.password\" auto-complete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"记住密码\" prop=\"savePass\">\n        <el-switch v-model=\"loginForm.savePass\"></el-switch>\n        <el-button type=\"primary\" size=\"large\" @click=\"submitForm('loginForm')\" style=\"margin-left: 25px\">登录</el-button>\n        <el-button size=\"large\" @click=\"resetForm('loginForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import {_getLocalStorage, _saveLocalStorage, _clearStorage, _getCookie}  from \"../../javascript/util\";\n  import  {_login} from \"../../javascript/getData\";\n  export default {\n    name: \"login\",\n    data() {\n      return {\n        loginForm: {\n          account: '',\n          password: '',\n          savePass: false\n        },\n        rules: {\n          account: [\n            {required: true, message: '请输入账号', trigger: 'blur'},\n          ],\n          password: [\n            {required: true, message: '请输入密码', trigger: 'blur'}\n          ],\n        }\n      };\n    },\n    methods: {\n      /**\n       * 提交登录信息\n       */\n      submitForm(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            _login(this.loginForm).then((res) => {\n              let data = res.data;\n              if (data.code === 200) {\n                this.loginForm.savePass && this.saveLoginInfo();\n                this.$router.push('/');\n              } else {\n                this.$message({\n                  showClose: true,\n                  message: data.msg,\n                  type: 'error'\n                })\n              }\n            })\n          }\n        });\n      },\n      /**\n       * 重置表单\n       */\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n      },\n      /**\n       * 保存登录信息\n       */\n      saveLoginInfo(){\n        [\"account\", \"password\", \"savePass\"].forEach((item) => {\n          _saveLocalStorage(item, this.loginForm[item]);\n        });\n      }\n    },\n    mounted(){\n      if (_getCookie('login')) {\n        this.$router.push('/');\n      }\n      if (_getLocalStorage(\"account\") && _getLocalStorage(\"password\")) {\n        this.loginForm.account = _getLocalStorage(\"account\");\n        this.loginForm.password = _getLocalStorage(\"password\");\n        this.loginForm.savePass = JSON.parse(_getLocalStorage(\"savePass\"));\n      }\n      document.body.addEventListener('keydown', (e) => {\n        const event = e || window.event;\n        if (event.keyCode === 13) {\n          this.submitForm('loginForm');\n        }\n      });\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Login.vue?394ea32b"],"sourceRoot":""}